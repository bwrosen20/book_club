(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){e.exports=a.p+"static/media/MUSTACHE.673f9a9a.png"},28:function(e,t,a){e.exports=a(42)},33:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(22),r=a.n(l),i=a(5),c=a(27),u=a(2),s=(a(33),a(17)),m=a(10);var d=function(e){var t=e.filterData,a=e.handleChange;return o.a.createElement("div",{className:"filterContainer"},o.a.createElement("input",{placeholder:"Search by Title or Author",type:"text",name:"input",className:"filterInput",autoComplete:"off",value:t.input,onChange:a}),o.a.createElement("select",{placeholder:"Sort By",name:"filter",className:"filterInput",value:t.filter,onChange:a},o.a.createElement("option",{defaultValue:!0,disabled:!0},"Sort By"),o.a.createElement("option",null,"Title"),o.a.createElement("option",null,"Author"),o.a.createElement("option",null,"Rating"),o.a.createElement("option",null,"Newest")))};var p=function(e){var t=e.books,a=e.handleClick,l=Object(n.useContext)(D),r=Object(n.useState)({input:"",filter:"Sort By"}),c=Object(u.a)(r,2),s=c[0],p=c[1],f=t.filter(function(e){return e.finished&&!e.current_book}).filter(function(e){return e.title.toLowerCase().includes(s.input.toLowerCase())||e.author.toLowerCase().includes(s.input.toLowerCase())});function b(e){var t=e.split(" ");return t.length<=1?e:"a"===t[0].toLowerCase()||"an"===t[0].toLowerCase()||"the"===t[0].toLowerCase()?t.splice(1).join(" "):e}function g(e){return e.split(" ").splice(-1)}return"Author"===s.filter?f=f.sort(function(e,t){return g(e.author)>g(t.author)?1:-1}):"Title"===s.filter?f=f.sort(function(e,t){return b(e.title)>b(t.title)?1:-1}):"Rating"===s.filter?(f.forEach(function(e){e.ratings=[],e.reviews.length>0?(e.reviews.forEach(function(t){e.ratings.push(t.rating)}),e.rating=e.ratings.reduce(function(e,t){return e+t})/e.ratings.length):e.rating=0}),f=f.sort(function(e,t){return t.rating-e.rating})):f=f.sort(function(e,t){return e.created_at>t.created_at?-1:1}),o.a.createElement("div",{className:"homeContainer"},o.a.createElement(d,{filterData:s,handleChange:function(e){p(Object(i.a)({},s,Object(m.a)({},e.target.name,e.target.value)))}}),o.a.createElement("h2",{className:"heading"},"Books that ",l.group_name," has finished"),o.a.createElement("div",{className:"bookContainer"},f.map(function(e){return o.a.createElement("div",{className:"bookPreview",key:e.title},o.a.createElement("img",{src:e.thumbnail,onClick:a,alt:e.title,className:"homeImg"}))})))};var f=function(e){var t=e.review,a=e.onEditReview,l=Object(n.useState)({body:t.body,rating:t.rating}),r=Object(u.a)(l,2),c=r[0],s=r[1],d=Object(n.useState)(!1),p=Object(u.a)(d,2),f=p[0],b=p[1],g=Object(n.useState)([]),h=Object(u.a)(g,2),v=h[0],E=h[1];function O(e){s(Object(i.a)({},c,Object(m.a)({},e.target.name,e.target.value)))}return o.a.createElement("div",null,o.a.createElement("div",{className:"review"},o.a.createElement("div",{className:"user"},o.a.createElement("img",{src:t.user.profile_image,alt:t.user.profile_image,className:"userPicture"}),o.a.createElement("h3",null,t.user.name)),o.a.createElement("div",{className:"smallerReviewBody"},o.a.createElement("form",{onSubmit:function(e){b(!0),e.preventDefault(),fetch("/reviews/".concat(t.id),{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify(Object(i.a)({},c))}).then(function(e){e.ok?e.json().then(function(e){a(e),b(!1)}):(e.json().then(function(e){return E(e.errors)}),b(!1))})}},o.a.createElement("input",{name:"rating",className:"signupOption",value:c.rating,type:"text",onChange:O}),o.a.createElement("textarea",{name:"body",className:"signupOption",value:c.body,type:"text",rows:"5",onChange:O}),o.a.createElement("button",{className:"reviewButton"},f?"Loading...":"Submit"),v.map(function(e){return o.a.createElement("h4",{className:"error",key:e},e)})))))};var b=function(e){var t=e.review,a=e.handleDeleteReview,l=e.book,r=e.handleEditReview,i=Object(n.useContext)(D),c=Object(n.useState)(!1),s=Object(u.a)(c,2),m=s[0],d=s[1];return o.a.createElement("div",null," ",m?o.a.createElement(f,{review:t,onEditReview:function(e){d(!m),r(e)}}):o.a.createElement("div",null,o.a.createElement("div",{className:"review"},o.a.createElement("div",{className:"user"},o.a.createElement("img",{src:t.user.profile_image,alt:t.user.name,className:"userPicture"}),o.a.createElement("h3",null,t.user.name)),o.a.createElement("div",{className:"reviewBody"},o.a.createElement("font",{size:"7"},t.rating.toFixed(1)),o.a.createElement("p",{style:{textAlign:"left"}},t.body)),i.id===t.user.id?o.a.createElement("button",{className:"delete",onClick:function(e){fetch("/reviews/".concat(t.id),{method:"DELETE",headers:{"Content-type":"application/json"},body:JSON.stringify({book_id:parseInt(e.target.value)})}).then(a(e))},value:l.id,id:t.id},"X"):null),i.id===t.user.id?o.a.createElement("button",{className:"editReview",onClick:function(){d(!m)}},"Edit Review"):null))};var g=function(e){var t=e.book,a=e.handleDeleteReview,n=e.handleEditReview,l=t.updated_at.split(""),r=[l[5],l[6],"-",l[8],l[9],"-",l[0],l[1],l[2],l[3]].join("");return o.a.createElement("div",null,t.reviews.length>0?o.a.createElement("h1",null,"Club Reviews"):null,t.finished?o.a.createElement("h4",null,"The club finished ",t.title," on ",r):null,o.a.createElement("div",{className:"reviewContainer"},t.reviews.map(function(e){return o.a.createElement(b,{key:e.body,review:e,handleEditReview:n,handleDeleteReview:a,book:t})})))};var h=function(e){var t=e.book,a=e.writeReview,l=Object(n.useState)({rating:"",body:""}),r=Object(u.a)(l,2),c=r[0],s=r[1],d=Object(n.useState)([]),p=Object(u.a)(d,2),f=p[0],b=p[1];function g(e){s(Object(i.a)({},c,Object(m.a)({},e.target.name,e.target.value)))}return o.a.createElement("div",{className:"reviewForm"},o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),fetch("/reviews",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(Object(i.a)({},c,{book_id:t.id}))}).then(function(e){e.ok?e.json().then(function(e){return a(e)}):e.json().then(function(e){return b(e.errors)})})}},o.a.createElement("input",{name:"rating",className:"reviewOption",placeholder:"Rating out of 10",autoComplete:"off",value:c.rating,onChange:g}),o.a.createElement("textarea",{rows:"5",name:"body",className:"reviewOption",placeholder:"Review Body",autoComplete:"off",value:c.body,onChange:g}),o.a.createElement("button",{className:"reviewButton"},"Submit"),f.map(function(e){return o.a.createElement("h4",{className:"error",key:e},e)})))},v=a(1);var E=function(e){var t=e.books,a=e.returnToVoting,l=e.bookForVote,r=e.handleReview,i=e.handleDeleteReview,c=e.handleEditReview,s=Object(n.useContext)(D),m=Object(v.g)().title,d=Object(n.useState)(!1),p=Object(u.a)(d,2),f=p[0],b=p[1],E=t.length?t.find(function(e){return m===e.title}):t,O=Object(n.useState)(!0),j=Object(u.a)(O,2),k=j[0],N=j[1];function w(e){b(!f),r(e)}return Object(n.useEffect)(function(){N(!0),E.reviews&&E.reviews.forEach(function(e){s.id===e.user.id&&N(!1)})},[E]),o.a.createElement("div",null,o.a.createElement("div",{className:"bookDisplay",id:"bookDisplay"},o.a.createElement("div",{className:"bookPicture"},o.a.createElement("img",{src:E.thumbnail,alt:E.thumbnail,className:"pictureDisplay"})),o.a.createElement("div",{className:"bookInfo"},o.a.createElement("h1",null,E.title),o.a.createElement("h4",null,"By ",E.author),o.a.createElement("div",{className:"descriptionContainer"},o.a.createElement("font",{size:"4",className:"description"},E.description))),E.reviews?o.a.createElement(g,{book:E,handleEditReview:c,handleDeleteReview:i}):null),o.a.createElement("div",{className:"returnButton"},E.votes>=0?null:o.a.createElement("div",{className:"loginScreen"},o.a.createElement("button",{onClick:a,className:"loginButton"},"Return"),o.a.createElement("button",{onClick:l,className:"loginButton"},"Put up for vote")),E.id&&E.finished?o.a.createElement("div",null,f?o.a.createElement(h,{book:E,writeReview:w}):o.a.createElement("div",null,k?o.a.createElement("button",{onClick:w},"Write a review"):null)):null))};var O=function(e){var t=e.books,a=e.handleClick,l=e.handlePutBookForVote,r=e.handleVoteButton,c=t.filter(function(e){return!e.finished&&!e.current_book}),s=Object(n.useContext)(D),m=Object(n.useState)(""),d=Object(u.a)(m,2),p=d[0],f=d[1],b=Object(n.useState)(!1),g=Object(u.a)(b,2),h=g[0],v=g[1],O=Object(n.useState)([]),j=Object(u.a)(O,2),k=j[0],N=j[1],w=Object(n.useState)([]),C=Object(u.a)(w,2),y=C[0],S=C[1],_=Object(n.useState)(!0),B=Object(u.a)(_,2),L=B[0],x=B[1],P=Object(n.useState)({title:"",author:"",description:"",thumbnail:""}),I=Object(u.a)(P,2),R=I[0],F=I[1],T=Object(n.useState)(!1),A=Object(u.a)(T,2),V=A[0],J=A[1];function H(e){var t=y.find(function(t){return t.id===e.target.alt});F({title:t.volumeInfo.title,author:t.volumeInfo.authors[0],description:t.volumeInfo.description,thumbnail:t.volumeInfo.imageLinks.thumbnail}),x(!L)}function M(e){h||(v(!0),fetch("/books/vote",{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify({voteBook:parseInt(e.target.value),currentBook:s.current_vote})}).then(function(e){return e.json()}).then(function(t){r(t,e),v(!1)}))}return o.a.createElement("div",null,L?o.a.createElement("div",null,o.a.createElement("h1",null,"Vote for the next book!"),o.a.createElement("h3",{className:"heading"},"Scroll down to nominate a book"),o.a.createElement("div",{className:"bookContainer"},c.map(function(e){return o.a.createElement("div",{className:"bookPreview",key:e.title},o.a.createElement("img",{src:e.thumbnail,className:"homeImg",onClick:a,alt:e.title}),o.a.createElement("h3",null,"Votes:",e.votes),s.current_vote===e.id||s.book_for_vote===e.id?null:o.a.createElement("button",{onClick:M,value:e.id},"Vote"))})),h?o.a.createElement("h3",{className:"returnButton"},"Loading..."):null,o.a.createElement("div",{className:"searchContainer",id:"searchContainer"},o.a.createElement("h2",null,"Search for the club's next book"),o.a.createElement("form",{onSubmit:function(e){J(!0),e.preventDefault(),fetch("https://www.googleapis.com/books/v1/volumes?q=".concat(p,"&orderBy=relevance&maxResults=10")).then(function(e){return e.json()}).then(function(e){S(e.items.filter(function(e){return"en"===e.volumeInfo.language&&e.volumeInfo.imageLinks}).sort(function(e,t){return t.volumeInfo.ratingsCount-e.volumeInfo.ratingsCount})),J(!1),document.getElementById("bookContainer").scrollIntoView()}),f("")}},o.a.createElement("input",{type:"text",placeholder:"Search by title or author",autoComplete:"off",value:p,onChange:function(e){f(e.target.value)}}),o.a.createElement("button",null,V?"Loading...":"Search")),k.map(function(e){return o.a.createElement("p",{key:e,className:"error"},e)})),o.a.createElement("div",{className:"bookContainer",id:"bookContainer"},y.map(function(e){return o.a.createElement("div",{className:"bookPreview",key:e.id},o.a.createElement("img",{src:e.volumeInfo.imageLinks.thumbnail,onClick:H,alt:e.id,className:"homeImg"}))}))):o.a.createElement(E,{books:R,bookForVote:function(){v(!0),x(!L),S([]),s.book_for_vote?fetch("/books/".concat(s.book_for_vote),{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify(Object(i.a)({},R,{votes:0,current_book:!1,finished:!1}))}).then(function(e){e.ok?e.json().then(function(e){l(e),v(!1)}):(e.json().then(function(e){return N(e.errors)}),v(!1))}):fetch("/books",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(Object(i.a)({},R,{votes:0,current_book:!1,finished:!1}))}).then(function(e){return e.json()}).then(function(e){l(e),v(!1)})},returnToVoting:function(){x(!L)}}))},j=a(9),k=a(16);var N=function(e){var t=e.handleLogout,l=Object(n.useState)(!1),r=Object(u.a)(l,2),i=r[0],c=r[1],s=Object(v.f)();function m(){c(!i)}return o.a.createElement("header",null,o.a.createElement("div",{className:"navBar"},o.a.createElement("img",{src:a(21),alt:"logo",className:"welcome",onClick:function(){s.push("/")}}),o.a.createElement("div",{className:"navigation"},o.a.createElement("ul",{className:"navLinks"},o.a.createElement("li",null,o.a.createElement(j.b,{className:"navOption",to:"/voting",exact:!0},"Voting")),o.a.createElement("li",null,o.a.createElement(j.b,{className:"navOption",to:"/current-book",exact:!0},"Current Book")),o.a.createElement("li",null,o.a.createElement(j.b,{className:"navOption",to:"/members",exact:!0},"Members")))),o.a.createElement("button",{className:"logoutButton",onClick:t},"Logout"),o.a.createElement("div",{className:"navBars",onClick:m},i?o.a.createElement(k.a,{icon:"fa-solid fa-x"}):o.a.createElement(k.a,{icon:"fa-solid fa-book"}))),o.a.createElement("div",{className:i?"dropdownMenuOpen":"dropdownMenu",onClick:m},o.a.createElement("li",null,o.a.createElement(j.b,{className:"navOption",to:"/voting",exact:!0},"Voting")),o.a.createElement("li",null,o.a.createElement(j.b,{className:"navOption",to:"/current-book",exact:!0},"Current Book")),o.a.createElement("li",null,o.a.createElement(j.b,{className:"navOption",to:"/members",exact:!0},"Members")),o.a.createElement("li",null,o.a.createElement("button",{className:"logoutButton",onClick:t},"Logout"))))};var w=function(e){var t=e.handleClick,a=Object(n.useState)([]),l=Object(u.a)(a,2),r=l[0],i=l[1],c=Object(n.useState)(!1),s=Object(u.a)(c,2),m=s[0],d=s[1];return Object(n.useEffect)(function(){0===r.length&&(d(!0),fetch("/users").then(function(e){return e.json()}).then(function(e){i(e),d(!1)}))},[]),o.a.createElement("div",null,o.a.createElement("h1",{className:"memberHeading"},"Club Members"),m?o.a.createElement("h3",{className:"bookPreview"},"Loading... "):o.a.createElement("div",{className:"memberContainer"},r.map(function(e){return o.a.createElement("div",{className:"memberCard",key:e.name},o.a.createElement("div",{className:"memberInfo",key:e.name},o.a.createElement("div",{className:"user"},o.a.createElement("img",{src:e.profile_image,alt:e.name,className:"userPicture"}),o.a.createElement("h3",null,e.name,e.admin?": Admin":null)),o.a.createElement("div",{className:"reviewBody"},o.a.createElement("h4",null,"Favorite Book: ",e.favorite_book),o.a.createElement("p",null,e.bio))),o.a.createElement("h3",null,"Books that ",e.name," has read"),o.a.createElement("div",{className:"memberBooksContainer"},e.books.map(function(e){return o.a.createElement("img",{className:"memberBook",onClick:t,src:e.thumbnail,key:e.title,alt:e.title})})))})))};var C=function(e){var t=e.books,a=e.handleFinishBook,l=e.handleReview,r=e.handleEditReview,i=e.handleDeleteReview,c=Object(n.useContext)(D),s=t.find(function(e){return e.current_book}),m=Object(n.useState)(!1),d=Object(u.a)(m,2),p=d[0],f=d[1],b=Object(n.useState)(!0),v=Object(u.a)(b,2),E=v[0],O=v[1],j=Object(n.useState)([]),k=Object(u.a)(j,2),N=k[0],w=k[1],C=Object(n.useState)(!1),y=Object(u.a)(C,2),S=y[0],_=y[1];function B(e){_(!0),fetch("books/finish",{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify({finishedBook:parseInt(e.target.value)})}).then(function(e){e.ok?e.json().then(function(e){return a(e)}):e.json().then(function(e){return w(e.errors)}),_(!1),window.scrollTo(0,document.body.scrollHeight)})}function L(e){f(!p),l(e)}return Object(n.useEffect)(function(){O(!0),s&&s.reviews&&s.reviews.length>0&&s.reviews.forEach(function(e){c.id===e.user.id&&O(!1)})},[s]),o.a.createElement("div",null,s?o.a.createElement("div",null,o.a.createElement("div",{className:"bookDisplay"},o.a.createElement("div",{className:"bookPicture"},o.a.createElement("img",{src:s.thumbnail,alt:s.thumbnail,className:"pictureDisplay"})),o.a.createElement("div",{className:"bookInfo"},o.a.createElement("h1",null,s.title),o.a.createElement("h4",null,"By ",s.author),o.a.createElement("div",{className:"descriptionContainer"},o.a.createElement("font",{size:"4",className:"description"},s.description))),s.reviews?o.a.createElement(g,{book:s,handleEditReview:r,handleDeleteReview:i}):null),o.a.createElement("div",{className:"currentBookButtons"},o.a.createElement("div",null,p?o.a.createElement(h,{book:s,writeReview:L}):o.a.createElement("div",null,E?o.a.createElement("button",{onClick:L,className:"currentBookOption"},"Write a review"):null),c.admin?o.a.createElement("button",{onClick:B,className:"currentBookOption",value:s?s.id:"0"},S?"Loading...":"Begin Next Book"):null))):o.a.createElement("div",null,o.a.createElement("h1",null,"No books yet! Please go nominate a book at the voting page"),o.a.createElement("h2",{className:"firstBookStart",onClick:B,value:"0"},"Begin first book!")),o.a.createElement("div",{style:{margin:"auto"}},N.map(function(e){return o.a.createElement("p",{className:"error",key:e},e)})))},y=a(13);var S=function(e){var t=e.onLogin,a=Object(n.useState)(""),l=Object(u.a)(a,2),r=l[0],i=l[1],c=Object(n.useState)(""),s=Object(u.a)(c,2),m=s[0],d=s[1],p=Object(n.useState)([]),f=Object(u.a)(p,2),b=f[0],g=f[1],h=Object(n.useState)(!1),v=Object(u.a)(h,2),E=v[0],O=v[1];return o.a.createElement("div",{className:"loginScreen"},o.a.createElement("h1",null,"Login"),o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),O(!0),fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:m})}).then(function(e){O(!1),e.ok?e.json().then(function(e){return t(e)}):e.json().then(function(e){return g(e.errors)})})},className:"loginForm"},o.a.createElement("input",{type:"text",id:"email",placeholder:"Email",autoComplete:"off",className:"signupOption",value:r,onChange:function(e){return i(e.target.value.toLowerCase())}}),o.a.createElement("div",{className:"passwordOption"},o.a.createElement("input",{type:"password",id:"id_password",name:"password",placeholder:"Password",className:"signupOption",autoComplete:"current-password",value:m,onChange:function(e){return d(e.target.value)}}),o.a.createElement("i",{className:"far fa-eye",id:"togglePassword",onClick:function(){var e=document.querySelector("#id_password"),t="password"===e.getAttribute("type")?"text":"password";e.setAttribute("type",t)}})),o.a.createElement("button",{className:"loginButton"},E?"Loading...":"Login"),b.map(function(e){return o.a.createElement("h4",{className:"error",key:e},e)})),o.a.createElement("br",null),o.a.createElement(y.GoogleLogin,{clientId:"213321703015-mrd4guaeltrl0iq0chmk79iec74ld518.apps.googleusercontent.com",buttonText:"Login with Google",cookiePolicy:"single_host_origin",onSuccess:function(e){O(!0);var a=e.profileObj.email;fetch("/google",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({loginMail:a})}).then(function(e){O(!1),e.ok?e.json().then(function(e){return t(e)}):e.json().then(function(e){return g(e.errors)})})},onFailure:function(e){console.log("Failure"),console.log(e)}}))};var _=function(e){var t=e.onLogin,a=Object(n.useState)(""),l=Object(u.a)(a,2),r=l[0],i=l[1],c=Object(n.useState)(""),s=Object(u.a)(c,2),m=s[0],d=s[1],p=Object(n.useState)(""),f=Object(u.a)(p,2),b=f[0],g=f[1],h=Object(n.useState)(""),v=Object(u.a)(h,2),E=v[0],O=v[1],j=Object(n.useState)(""),k=Object(u.a)(j,2),N=k[0],w=k[1],C=Object(n.useState)(null),S=Object(u.a)(C,2),_=S[0],B=S[1],L=Object(n.useState)(""),x=Object(u.a)(L,2),P=x[0],I=x[1],R=Object(n.useState)(""),F=Object(u.a)(R,2),D=F[0],T=F[1],A=Object(n.useState)([]),V=Object(u.a)(A,2),J=V[0],H=V[1],M=Object(n.useState)(!1),q=Object(u.a)(M,2),G=q[0],z=q[1],U=Object(n.useState)(!1),W=Object(u.a)(U,2),X=W[0],K=W[1],Q=Object(n.useState)(!1),Y=Object(u.a)(Q,2),Z=Y[0],$=Y[1];return o.a.createElement("div",{className:"loginScreen"},o.a.createElement("h1",null,"Create Club"),o.a.createElement("form",{onSubmit:X?function(e){e.preventDefault(),H([]);var a=new FormData;a.append("name",r),a.append("email",b),a.append("favorite_book",P),a.append("bio",D),a.append("current_vote",0),a.append("group_name",m),a.append("admin",!0),_&&a.append("profile_image",_),z(!0),fetch("/google-create",{method:"POST",body:a}).then(function(e){z(!1),e.ok?e.json().then(function(e){return t(e)}):e.json().then(function(e){return H(e.errors)})})}:function(e){e.preventDefault(),H([]);var a=new FormData;a.append("name",r),a.append("email",b),a.append("password",E),a.append("password_confirmation",N),a.append("favorite_book",P),a.append("bio",D),a.append("current_vote",0),a.append("group_name",m),a.append("admin",!0),_&&a.append("profile_image",_),z(!0),fetch("/create",{method:"POST",body:a}).then(function(e){z(!1),e.ok?e.json().then(function(e){return t(e)}):e.json().then(function(e){return H(e.errors)})})},className:"loginForm"},o.a.createElement("input",{type:"text",id:"group_name",autoComplete:"off",placeholder:"Club Name",className:"signupOption",value:m,onChange:function(e){return d(e.target.value)}}),o.a.createElement("input",{type:"text",id:"name",autoComplete:"off",placeholder:"Name",className:"signupOption",value:r,onChange:function(e){return i(e.target.value)}}),o.a.createElement("input",{type:"text",id:"email",autoComplete:"off",placeholder:"Email",className:"signupOption",value:b,disabled:!!X,onChange:X?null:function(e){return g(e.target.value.toLowerCase())}}),X?null:o.a.createElement("div",null,o.a.createElement("input",{type:"password",id:"password",placeholder:"Password",className:"signupOption",value:E,onChange:function(e){return O(e.target.value)},autoComplete:"current-password"}),o.a.createElement("input",{type:"password",id:"password_confirmation",placeholder:"Confirm Password",className:N.length>0?N===E?"confirmed":"wrongPassword":"signupOption",value:N,onChange:function(e){return w(e.target.value)},autoComplete:"current-password"})),o.a.createElement("input",{type:"text",id:"favoriteBook",placeholder:"FavoriteBook",className:"signupOption",autoComplete:"off",value:P,onChange:function(e){return I(e.target.value)}}),o.a.createElement("textarea",{rows:"3",id:"bio",placeholder:"Bio",className:"signupOption",value:D,onChange:function(e){return T(e.target.value)}}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("label",{htmlFor:"profileImage",className:Z?"labelForLoadedFile":"labelForFile"},"Profile Image"),o.a.createElement("input",{type:"file",title:" ",id:"profileImage",accept:"image/*",style:{visibility:"hidden"},className:"custom-file-input",onChange:function(e){B(e.target.files[0]),$(!0)}}),o.a.createElement("br",null),o.a.createElement("button",{type:"submit",className:"signupButton"},G?"Loading...":"Sign Up"),J.map(function(e){return o.a.createElement("h4",{className:"error",key:e},e)})),o.a.createElement("br",null),o.a.createElement(y.GoogleLogin,{clientId:"213321703015-mrd4guaeltrl0iq0chmk79iec74ld518.apps.googleusercontent.com",buttonText:"Signup with Google",cookiePolicy:"single_host_origin",onSuccess:function(e){console.log(e),K(!0),g(e.profileObj.email),i(e.profileObj.givenName)}}))};var B=function(e){var t=e.onLogin,a=Object(n.useState)(""),l=Object(u.a)(a,2),r=l[0],i=l[1],c=Object(n.useState)(""),s=Object(u.a)(c,2),m=s[0],d=s[1],p=Object(n.useState)(""),f=Object(u.a)(p,2),b=f[0],g=f[1],h=Object(n.useState)(""),v=Object(u.a)(h,2),E=v[0],O=v[1],j=Object(n.useState)(""),k=Object(u.a)(j,2),N=k[0],w=k[1],C=Object(n.useState)(null),S=Object(u.a)(C,2),_=S[0],B=S[1],L=Object(n.useState)(""),x=Object(u.a)(L,2),P=x[0],I=x[1],R=Object(n.useState)(""),F=Object(u.a)(R,2),D=F[0],T=F[1],A=Object(n.useState)([]),V=Object(u.a)(A,2),J=V[0],H=V[1],M=Object(n.useState)(!1),q=Object(u.a)(M,2),G=q[0],z=q[1],U=Object(n.useState)(!1),W=Object(u.a)(U,2),X=W[0],K=W[1],Q=Object(n.useState)(!1),Y=Object(u.a)(Q,2),Z=Y[0],$=Y[1];return o.a.createElement("div",{className:"loginScreen"},o.a.createElement("h1",null,"Signup"),o.a.createElement("form",{onSubmit:X?function(e){e.preventDefault(),H([]);var a=new FormData;a.append("name",r),a.append("email",m),a.append("favorite_book",P),a.append("bio",D),a.append("current_vote",0),a.append("group_name",b),a.append("admin",!0),_&&a.append("profile_image",_),z(!0),fetch("/google-signup",{method:"POST",body:a}).then(function(e){z(!1),e.ok?e.json().then(function(e){return t(e)}):e.json().then(function(e){return H(e.errors)})})}:function(e){e.preventDefault(),H([]);var a=new FormData;a.append("name",r),a.append("email",m),a.append("password",E),a.append("password_confirmation",N),a.append("favorite_book",P),a.append("bio",D),a.append("current_vote",0),a.append("group_name",b),a.append("admin",!1),_&&a.append("profile_image",_),z(!0),fetch("/signup",{method:"POST",body:a}).then(function(e){z(!1),e.ok?e.json().then(function(e){return t(e)}):e.json().then(function(e){return H(e.errors)})})},className:"loginForm"},o.a.createElement("input",{type:"text",id:"name",autoComplete:"off",placeholder:"Club Name",className:"signupOption",value:b,onChange:function(e){return g(e.target.value)}}),o.a.createElement("input",{type:"text",id:"name",autoComplete:"off",placeholder:"Name",className:"signupOption",value:r,onChange:function(e){return i(e.target.value)}}),o.a.createElement("input",{type:"text",id:"email",autoComplete:"off",placeholder:"Email",className:"signupOption",value:m,disabled:!!X,onChange:X?null:function(e){return d(e.target.value.toLowerCase())}}),X?null:o.a.createElement("div",null,o.a.createElement("input",{type:"password",id:"password",placeholder:"Password",className:"signupOption",value:E,onChange:function(e){return O(e.target.value)},autoComplete:"current-password"}),o.a.createElement("input",{type:"password",id:"password_confirmation",placeholder:"Confirm Password",className:N.length>0?N===E?"confirmed":"wrongPassword":"signupOption",value:N,onChange:function(e){return w(e.target.value)},autoComplete:"current-password"})),o.a.createElement("input",{type:"text",id:"favoriteBook",placeholder:"FavoriteBook",className:"signupOption",autoComplete:"off",value:P,onChange:function(e){return I(e.target.value)}}),o.a.createElement("textarea",{rows:"3",id:"bio",placeholder:"Bio",className:"signupOption",value:D,onChange:function(e){return T(e.target.value)}}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("label",{htmlFor:"profileImage",className:Z?"labelForLoadedFile":"labelForFile"},"Profile Image"),o.a.createElement("input",{type:"file",title:" ",id:"profileImage",accept:"image/*",style:{visibility:"hidden"},className:"custom-file-input",onChange:function(e){B(e.target.files[0]),$(!0)}}),o.a.createElement("br",null),o.a.createElement("button",{type:"submit",className:"signupButton"},G?"Loading...":"Sign Up"),J.map(function(e){return o.a.createElement("h4",{className:"error",key:e},e)})),o.a.createElement("br",null),X?null:o.a.createElement(y.GoogleLogin,{clientId:"213321703015-mrd4guaeltrl0iq0chmk79iec74ld518.apps.googleusercontent.com",buttonText:"Signup with Google",cookiePolicy:"single_host_origin",onSuccess:function(e){console.log(e),K(!0),d(e.profileObj.email),i(e.profileObj.givenName)}}))};var L=function(e){var t=e.onLogin,l=Object(n.useState)(!1),r=Object(u.a)(l,2),i=r[0],c=r[1],s=Object(n.useState)(!1),m=Object(u.a)(s,2),d=m[0],p=m[1],f=Object(n.useState)(!1),b=Object(u.a)(f,2),g=b[0],h=b[1];function v(){c(!0),p(!1),h(!1)}function E(){p(!0),c(!1),h(!1)}function O(){h(!0),c(!1),p(!1)}return o.a.createElement("div",null,o.a.createElement("div",{className:"openingContainer"},o.a.createElement("div",{className:"openingRight"},o.a.createElement("img",{src:a(21),alt:"logo",className:"openingImage"}),o.a.createElement("h3",{style:{margin:"auto",textAlign:"center"}},"We'll host your book club"))),o.a.createElement("div",{className:"openingBackground"},o.a.createElement("div",{className:"openingItems"},o.a.createElement("div",{className:"loginOptionsList"},o.a.createElement("h1",{className:"loginOption",onClick:O},"Create A Club"),o.a.createElement("br",null),o.a.createElement("h4",{className:"smallerHeading"},"Here to join a club? ",o.a.createElement("span",{className:"loginOption",onClick:E},"Sign up")),o.a.createElement("br",null),o.a.createElement("h4",{className:"smallerHeading"},"Already part of a club? ",o.a.createElement("span",{className:"loginOption",onClick:v},"Login")))),o.a.createElement("div",{className:"rightSide"},d?o.a.createElement(B,{onLogin:t,onSignupClick:E}):i?o.a.createElement(S,{onLogin:t,onLoginClick:v}):g?o.a.createElement(_,{onLogin:t,onCreateClick:O}):null)))},x=a(24),P=a(25),I=a(26),R=a(12),F="213321703015-mrd4guaeltrl0iq0chmk79iec74ld518.apps.googleusercontent.com",D=o.a.createContext();var T=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(!1),m=Object(u.a)(r,2),d=m[0],f=m[1],b=Object(n.useState)(null),g=Object(u.a)(b,2),h=g[0],j=g[1],k=Object(v.f)();function y(e){j(e[0]),l(e.slice(1,e.length)),k.push("/home")}function S(e){l(a.map(function(t){return t.id===parseInt(e.target.value)?Object(i.a)({},t,{reviews:t.reviews.filter(function(t){return t.id!==parseInt(e.target.id)})}):t}))}function _(e){l(a.map(function(t){return Object(i.a)({},t,{reviews:t.reviews.map(function(t){return t.id===e.id?e:t})})}))}function B(e){l(a.map(function(t){return t.id===e.id?e:t}))}function x(e){k.push("/books/".concat(e.target.alt))}return Object(n.useEffect)(function(){f(!0),s.a.load("client:auth2",function(){s.a.client.init({clientId:F,scope:""})}),fetch("/me").then(function(e){e.ok&&e.json().then(function(e){j(e[0]),l(e.slice(1,e.length))})}),f(!1)},[]),h?o.a.createElement("div",null,d?o.a.createElement("h3",null,"Loading..."):o.a.createElement("div",null,o.a.createElement(D.Provider,{value:h},o.a.createElement(N,{handleLogout:function(){fetch("/logout",{method:"DELETE"}).then(function(e){e.ok&&j(null)})}}),o.a.createElement(v.c,null,o.a.createElement(v.a,{exact:!0,path:"/voting"},o.a.createElement(O,{isLoading:d,books:a,handleClick:x,handlePutBookForVote:function(e){console.log(e);var t=a.map(function(e){return e.id});console.log(t.includes(e.id)),t.includes(e.id)?l(a.map(function(t){return t.id===e.id?e:t})):l([].concat(Object(c.a)(a),[e])),j(Object(i.a)({},h,{book_for_vote:e.id}))},handleVoteButton:function(e,t){l(a.map(function(a){return a.id===h.current_vote?e[1]:a.id===parseInt(t.target.value)?e[0]:a})),j(Object(i.a)({},h,{current_vote:e[0].id}))}})),o.a.createElement(v.a,{exact:!0,path:"/members"},o.a.createElement(w,{handleClick:x})),o.a.createElement(v.a,{exact:!0,path:"/login"},o.a.createElement(L,{onLogin:y})),o.a.createElement(v.a,{exact:!0,path:"/books/:title"},o.a.createElement(E,{books:a,handleDeleteReview:S,handleEditReview:_,handleReview:B})),o.a.createElement(v.a,{exact:!0,path:"/current-book"},o.a.createElement(C,{books:a,handleFinishBook:function(e){l(a.map(function(t){return console.log(e),e[0]&&t.id===e[0].id?e[0]:t.id===e[1].id?e[1]:Object(i.a)({},t,{votes:0})})),h.id===e[2].id&&j(Object(i.a)({},e[2],{current_vote:0}))},handleReview:B,handleEditReview:_,handleDeleteReview:S})),o.a.createElement(v.a,{path:"/"},o.a.createElement(p,{books:a,handleClick:x})))))):o.a.createElement(L,{onLogin:y})};R.b.add(x.a,P.a,I.a);var A=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,43)).then(function(t){var a=t.getCLS,n=t.getFID,o=t.getFCP,l=t.getLCP,r=t.getTTFB;a(e),n(e),o(e),l(e),r(e)})};r.a.render(o.a.createElement(j.a,null,o.a.createElement(T,null)),document.getElementById("root")),A()}},[[28,3,2]]]);
//# sourceMappingURL=main.6456f017.chunk.js.map